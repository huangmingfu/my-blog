import{j as s,b as i,c as a,aa as e}from"./chunks/framework.BiLHh0cN.js";const F=JSON.parse('{"title":"🤧 博客搭建踩坑记录","description":"","frontmatter":{"top":3,"sticky":2,"tag":["Technology"]},"headers":[],"relativePath":"technology/BlogTread.md","filePath":"technology/BlogTread.md","lastUpdated":null}'),t={name:"technology/BlogTread.md"},n=e(`<h1 id="🤧-博客搭建踩坑记录" tabindex="-1">🤧 博客搭建踩坑记录 <a class="header-anchor" href="#🤧-博客搭建踩坑记录" aria-label="Permalink to &quot;🤧 博客搭建踩坑记录&quot;">​</a></h1><h2 id="一、部署到gitee-pages-样式不生效" tabindex="-1">一、部署到gitee pages 样式不生效 <a class="header-anchor" href="#一、部署到gitee-pages-样式不生效" aria-label="Permalink to &quot;一、部署到gitee pages 样式不生效&quot;">​</a></h2><p><code>原因：</code><strong>打包后的路径不匹配，对应不上相关的js、css等文件</strong><br><code>解决：</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base必须配置，否则打包会丢失css样式！！</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">根目录配置</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /，那么对应</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://yiov.github.io/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">仓库</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 配置</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /vitepress/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ，那么对应</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://yiov.github.io/vitepress</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">在config文件配置base：不需要多添加域名、协议那些，如下示例：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    base:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/my-blog/&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><img src="https://friend-z.gitee.io/drawing-bed/images/technology/blog-tread01.png" alt="" loading="lazy"></p><h2 id="二、样式生效了-但是头像、网页fav图标不展示" tabindex="-1">二、样式生效了，但是头像、网页fav图标不展示 <a class="header-anchor" href="#二、样式生效了-但是头像、网页fav图标不展示" aria-label="Permalink to &quot;二、样式生效了，但是头像、网页fav图标不展示&quot;">​</a></h2><p><code>原因：</code><strong>同样是路径匹配不上</strong><code>解决：</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 配置网站的图标（显示在浏览器的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tab</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 上）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;link&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { rel: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;icon&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, href: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/my-blog/favicon.ico&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 设置logo，这里不需要添加/my-blog/基础路径</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    logo:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/logo.jpg&#39;,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    打包后：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rel=&quot;icon&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> href=&quot;/my-blog/favicon.ico&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h2 id="三、路由跳转问题" tabindex="-1">三、路由跳转问题 <a class="header-anchor" href="#三、路由跳转问题" aria-label="Permalink to &quot;三、路由跳转问题&quot;">​</a></h2><p><code>原因：</code><strong>gitee的配置问题，服务集成-&gt;Pages 单页面应用支持策略</strong><a href="https://help.gitee.com/services/gitee-pages/spa-support" target="_blank" rel="noreferrer">gitee文档描述</a><br><code>解决：</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">在public下添加:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.spa文件（不需要写什么内容）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">官方描述：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">通过在</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Gitee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Pages</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 部署根目录增加名为</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .spa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 文件，即可开启支持单页应用的支持。</span></span></code></pre></div><h2 id="四、网站浏览量、统计量问题" tabindex="-1">四、网站浏览量、统计量问题 <a class="header-anchor" href="#四、网站浏览量、统计量问题" aria-label="Permalink to &quot;四、网站浏览量、统计量问题&quot;">​</a></h2><p><strong><code>这里用的是</code></strong><a href="http://busuanzi.ibruce.info/" target="_blank" rel="noreferrer">不蒜子</a><strong><code>实现的，非常的简单易上手，但是在开发运行会展示如下效果：</code></strong></p><blockquote><p>👁️‍🗨️总访问量：6441970<br> 👤访客数：3810459</p></blockquote><p><code>解决：</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">可以直接无视，部署上去会自动从0开始计算</span></span></code></pre></div><h2 id="五、构建报navigator不存、windows不存在" tabindex="-1">五、构建报navigator不存、windows不存在 <a class="header-anchor" href="#五、构建报navigator不存、windows不存在" aria-label="Permalink to &quot;五、构建报navigator不存、windows不存在&quot;">​</a></h2><p><code>原因：</code><strong>构建是node环境的，所以不存在，打包失败</strong></p><blockquote><p>可以参考<a href="https://vitepress.dev/zh/guide/ssr-compat" target="_blank" rel="noreferrer">vitepress文档访问浏览器 API 的库</a></p></blockquote><hr><h2 id="👽额外记录" tabindex="-1">👽额外记录 <a class="header-anchor" href="#👽额外记录" aria-label="Permalink to &quot;👽额外记录&quot;">​</a></h2><h3 id="搭建自动gitee推送" tabindex="-1">搭建自动gitee推送 <a class="header-anchor" href="#搭建自动gitee推送" aria-label="Permalink to &quot;搭建自动gitee推送&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><blockquote><p><code>在package.json的scripts里添加： &quot;deploy&quot;: &quot;pnpm run build &amp;&amp; git add . &amp;&amp; git commit -m \\&quot;gitee 自动推送\\&quot; &amp;&amp; git push -u origin master &amp;&amp; git subtree push --prefix docs/.vitepress/dist origin gh-pages&quot;</code></p><p><strong>解释</strong><br> git subtree push --prefix docs/.vitepress/dist origin gh-pages: 将指定目录（docs/.vitepress/dist）的内容推送到远程仓库的 gh-pages 分支。这通常用于将构建后的静态网站文件推送到特定分支，以便在类似 GitHub Pages 或 Gitee Pages 等平台上托管静态网站。</p><p>注意：在.gitignore上将dist移除，；git subtree push要在push master 之后执行</p></blockquote><blockquote><p>尝试过使用rimraf库： npm install rimraf --save-dev<br> 代码：rimraf docs/.vitepress/dist<br> 来将dist文件删除，以免在master上提交上去，但是经过一系列尝试，发现没办法同时推送两个分支，会有报错，未找到合适方法，就干脆两个分支也一起提交了上去</p></blockquote></div>`,23),l=[n];function p(h,o,r,k,d,g){return i(),a("div",null,l)}const u=s(t,[["render",p]]);export{F as __pageData,u as default};
