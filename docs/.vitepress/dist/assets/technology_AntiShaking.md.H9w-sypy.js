import{_ as s,o as i,c as a,a8 as n}from"./chunks/framework.DBQkAOx6.js";const E=JSON.parse('{"title":"ğŸ›¡ï¸ é˜²æŠ–æ–¹æ¡ˆï¼ˆé˜²æ­¢ç”¨æˆ·é¢‘ç¹ç‚¹å‡»è€Œå‘é€å¤šæ¬¡é‡å¤è¯·æ±‚ï¼‰","description":"","frontmatter":{"sticky":500,"tag":["Technology"]},"headers":[],"relativePath":"technology/AntiShaking.md","filePath":"technology/AntiShaking.md","lastUpdated":1720350421000}'),t={name:"technology/AntiShaking.md"},h=n(`<h1 id="ğŸ›¡ï¸-é˜²æŠ–æ–¹æ¡ˆ-é˜²æ­¢ç”¨æˆ·é¢‘ç¹ç‚¹å‡»è€Œå‘é€å¤šæ¬¡é‡å¤è¯·æ±‚" tabindex="-1">ğŸ›¡ï¸ é˜²æŠ–æ–¹æ¡ˆï¼ˆé˜²æ­¢ç”¨æˆ·é¢‘ç¹ç‚¹å‡»è€Œå‘é€å¤šæ¬¡é‡å¤è¯·æ±‚ï¼‰ <a class="header-anchor" href="#ğŸ›¡ï¸-é˜²æŠ–æ–¹æ¡ˆ-é˜²æ­¢ç”¨æˆ·é¢‘ç¹ç‚¹å‡»è€Œå‘é€å¤šæ¬¡é‡å¤è¯·æ±‚" aria-label="Permalink to &quot;ğŸ›¡ï¸ é˜²æŠ–æ–¹æ¡ˆï¼ˆé˜²æ­¢ç”¨æˆ·é¢‘ç¹ç‚¹å‡»è€Œå‘é€å¤šæ¬¡é‡å¤è¯·æ±‚ï¼‰&quot;">â€‹</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ä»¥ä¸‹ä»£ç ä»¥React+Tsä¸ºä¾‹</p></div><h2 id="_1-åˆ©ç”¨åŸç”Ÿsettimeoutæ–¹æ³•å®ç°é˜²æŠ–" tabindex="-1">1.åˆ©ç”¨åŸç”ŸsetTimeoutæ–¹æ³•å®ç°é˜²æŠ–ï¼š <a class="header-anchor" href="#_1-åˆ©ç”¨åŸç”Ÿsettimeoutæ–¹æ³•å®ç°é˜²æŠ–" aria-label="Permalink to &quot;1.åˆ©ç”¨åŸç”ŸsetTimeoutæ–¹æ³•å®ç°é˜²æŠ–ï¼š&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NodeJS.Timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> null&gt;(null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> handleClick</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    timer.current &amp;&amp; clearTimeout(timer.current)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    timer.current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        //...é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    },500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="_2-ä½¿ç”¨lodash-esçš„debounceæ–¹æ³•å®ç°é˜²æŠ–" tabindex="-1">2.ä½¿ç”¨lodash-esçš„debounceæ–¹æ³•å®ç°é˜²æŠ– <a class="header-anchor" href="#_2-ä½¿ç”¨lodash-esçš„debounceæ–¹æ³•å®ç°é˜²æŠ–" aria-label="Permalink to &quot;2.ä½¿ç”¨lodash-esçš„debounceæ–¹æ³•å®ç°é˜²æŠ–&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//reactä½¿ç”¨lodash-esçš„debounceæ–¹æ³•éœ€è¦ç”¨useCallbackåŒ…è£¹ï¼Œä¸ç„¶ä¼šæœ‰bug</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> handleClick</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debounce((v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    //...é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, 500), [])</span></span></code></pre></div><h2 id="_3-ä½¿ç”¨loadingåŠ è½½é…åˆ-æ¨è" tabindex="-1">3.ä½¿ç”¨loadingåŠ è½½é…åˆï¼ˆæ¨èï¼‰ï¼š <a class="header-anchor" href="#_3-ä½¿ç”¨loadingåŠ è½½é…åˆ-æ¨è" aria-label="Permalink to &quot;3.ä½¿ç”¨loadingåŠ è½½é…åˆï¼ˆæ¨èï¼‰ï¼š&quot;">â€‹</a></h2><div class="warning custom-block"><p class="custom-block-title">åŸå› </p><p>ä¸Šè¿°å®ç°æ–¹æ³•å…¶å®éƒ½å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯è¿è¥å’Œåç«¯åé¦ˆç»™æˆ‘çš„bugï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­å°±æ˜¯ä½¿ç”¨äº†ç¬¬äºŒç§æ–¹æ³•ï¼Œ ä½†æ˜¯ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼š<br><code>å¦‚æœè¯·æ±‚è¿˜åœ¨ç­‰å¾…ä¸­ï¼Œç”¨æˆ·ç¼“æ…¢çš„ç‚¹å‡»æ¯”å¦‚éš”äº†600msï¼ˆè¶Šè¿‡äº†é˜²æŠ–è®¾ç½®çš„æ—¶é—´ï¼‰ï¼Œè¿˜æ˜¯ä¼šå†æ¬¡å‘é‡å¤è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ä¸šåŠ¡åˆ›å»ºäº†3æ¬¡å…¬ä¼š</code><br><code>è§£å†³å¦‚ä¸‹ğŸ‘‡</code></p></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//æäº¤åæ˜¾ç¤ºå…¨å±loadingè’™ç‰ˆæ•ˆæœï¼Œä¸”åœ¨é€»è¾‘é‡Œreturnæ‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [loading, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">setLoading]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refLoading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refLoading.current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> loading</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//æäº¤è¯·æ±‚çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refLoading.current</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLoading(true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> await</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxxxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLoading(false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div style="display:none;" data-pagefind-meta="base64:JTdCJTIyc3RpY2t5JTIyJTNBNTAwJTJDJTIydGFnJTIyJTNBJTVCJTIyVGVjaG5vbG9neSUyMiU1RCUyQyUyMmRhdGUlMjIlM0ExNzIwMzUwNDIxMDAwJTdE"></div>`,10),l=[h];function e(k,p,d,r,F,g){return i(),a("div",null,l)}const c=s(t,[["render",e]]);export{E as __pageData,c as default};
